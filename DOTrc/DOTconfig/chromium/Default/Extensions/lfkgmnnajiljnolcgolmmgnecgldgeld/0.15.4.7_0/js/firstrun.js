function PLUGIN_SERVER(){return"http://"+pluginWebsite+"/"}function ShowWelcomePage(){checkMarketingStatus();IsFirstRun()&&(plugin_install_page=pluginUpdated==!0?PLUGIN_SERVER()+"pluginupgrade/"+GetUserId():PLUGIN_SERVER()+"chromeinstall/"+GetUserId(),setTimeout(installationEvent,1500))}
function installationEvent(){var a=document.createElement("iframe");a.id=pluginNamespace+"-installframe";a.src=plugin_install_page;a.height=1;a.width=1;a.scrolling="NO";document.getElementsByTagName("body")[0].appendChild(a)}function IsFirstRun(){var a=!0;prefString=localStorage.getItem(pluginNamespace+".doneWelcomeMessage");prefString===null?localStorage.setItem(pluginNamespace+".doneWelcomeMessage","Yes"):a=!1;return a}
function GetUserId(){prefString=localStorage.getItem(pluginNamespace+".installID");if(prefString===null){prefString=randomUUID();var a=new Date;a.getFullYear();a.getMonth();a.getDate();localStorage.setItem(pluginNamespace+".buildID",buildID);localStorage.setItem(pluginNamespace+".installID",prefString)}return prefString}
function IsUpdatedPlugin(){prefString=localStorage.getItem(pluginNamespace+".installID");prefString!==null&&(buildnumber=localStorage.getItem(pluginNamespace+".buildID"),buildnumber===null&&(localStorage.setItem(pluginNamespace+".buildID",buildID),clearSettings()),buildnumber<buildID&&(localStorage.setItem(pluginNamespace+".buildID",buildID),clearSettings()))}function clearSettings(){localStorage.removeItem(pluginNamespace+".doneWelcomeMessage");pluginUpdated=!0}
function randomUUID(){for(var a=[],b=0;b<36;b++)a[b]=Math.floor(Math.random()*16);a[14]=4;a[19]=a[19]&3|8;for(b=0;b<36;b++)a[b]="0123456789ABCDEF"[a[b]];a[8]=a[13]=a[18]=a[23]="-";return"{"+a.join("")+"}"}
function checkMarketingStatus(){settingsName=localStorage.getItem("profile");settingsBlob=localStorage.getItem("profile-"+settingsName);ssprofile=JSON.parse(settingsBlob);if(settings.marketing==!1){var a=localStorage.getItem(pluginNamespace+".disableperiod");if(a==null)a=new Date,a=a.getFullYear()+"-"+a.getMonthFormatted()+"-"+a.getDate(),localStorage.setItem(pluginNamespace+".disableperiod",a);else if(a=a.split("-"),getDayDelta(a[0],a[1],a[2])<=-3)settings.marketing=!0,localStorage.removeItem(pluginNamespace+
".disableperiod"),localStorage.setItem("profile-"+settingsName,JSON.stringify(ssprofile))}}Date.prototype.getMonthFormatted=function(){var a=this.getMonth()+1;return a<10?"0"+a:a};Date.prototype.getDayFormatted=function(){var a=this.getDay();return a<10?"0"+a:a};function getDayDelta(a,b,c){a=new Date(a,b-1,c);b=new Date;b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b.setHours(0);b.setMinutes(0);return Math.round((a-b)/1E3/60/60/24)}ShowWelcomePage();
