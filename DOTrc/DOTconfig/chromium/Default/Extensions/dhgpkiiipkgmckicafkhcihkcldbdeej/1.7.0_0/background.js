var wikihistory=[],wikicache={},currentHistoryPosition=0,currentLangState=0;
function handleLink(a){var b,c=getCurrentLang();b="http://"+c+".m.wikipedia.org"+a;for(var d=0;d<currentHistoryPosition;d++){wikicache[wikihistory[0]]&&delete wikicache[wikihistory[0]];wikihistory.length>0&&wikihistory.shift()}for(;wikihistory.length>10;){wikicache[history[wikihistory.length-1]]&&delete wikicache[wikihistory[wikihistory.length-1]];wikihistory.pop()}wikihistory.unshift({url:b,lang:c,title:a.replace("/wiki/","")});currentHistoryPosition=0;localStorage.setItem("refresh","true")}
function init(){pageWidth=parseInt(localStorage.pageWidth);if(!pageWidth||pageWidth<=0)localStorage.pageWidth=480}function toggleLang(){currentLangState=currentLangState==0?1:0}function checkLang(){return{state:currentLangState,primaryLang:localStorage.current_language,secondaryLang:localStorage.secondary_language}}
function getCurrentLang(){return currentLangState==0&&localStorage.current_language?localStorage.current_language:currentLangState==1&&localStorage.secondary_language?localStorage.secondary_language:"en"};
