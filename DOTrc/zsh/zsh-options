# -*-Shell-script-*-

# echo 1>&2 "zsh-options: DP_ZSH_ENVIRONMENT_FUCKED>$DP_ZSH_ENVIRONMENT_FUCKED<"
# echo 1>&2 "zsh-options: DP_ZSH_FIX_FUCKED_ENVIRONMENT>$DP_ZSH_FIX_FUCKED_ENVIRONMENT<"

# @todo XXX ??? Split this into interactive and non-interactive parts?
# @todo XXX ??? I think I'd like to tend to have interactive zsh features but
# try to make scripts run goodly.

# These cause problems that are fatal in my setup.  We don't really want KSH
# compatibility anyway.
#    globsubst
#    ksharrays
# nopathscript off
# Is this due to emulation?  It's set to "zsh"
# Up to listtypes is from the initialish installation, and have been
# "tested", as in "in use" longer.
# So there's a lot new.
# Probably the most essential is shwordsplit, which splits strings on the
# command line like bash, sh, dash, csh, ksh.
# And their excuse us that you probably want to send the whole string to a
# command/function. However, there's a trivial way to prevent the splitting
# ("") but there is no way to force the split that's as easy.  There are no
# anti-quotes (in this anti-anti-universe).
# !!! XXX NB:     posixstrings -- FUCKS UP COMPLETION.  See apt ins<TAB>

setopt						\
    extendedglob				\
    nomatch					\
    notify					\
    nohistverify				\
    nohistsavenodups				\
    histexpiredupsfirst				\
    nopushdignoredups				\
    listrowsfirst				\
    listtypes					\
    nomenucomplete				\
    noglobdots					\
    rematchpcre					\
    noaliasfuncdef				\
    appendcreate				\
    banghist					\
    bgnice					\
    bare_glob_qual				\
    checkjobs					\
    checkrunningjobs				\
    cprecedences				\
    equals					\
    evallineno					\
    functionargzero				\
    nohup					\
    noignorebraces				\
    interactivecomments				\
    nomultifuncdef				\
    nooctalzeroes				\
    noposixcd					\
    shfileexpansion				\
    noshoptionletters				\
    shortloops					\
    shwordsplit					\
    correct

# Causes a full screen of spew.  I bad and naughty global guy.
   ## warncreateglobal \
   ## warnnestedvar


# history
setopt						\
    appendhistory				\
    histexpiredupsfirst				\
    histfcntllock				\
    histignoredups				\
    histignorespace				\
    histlexwords

# Initialisation, all defaults.

# Input/Output.
# Man, do I wish ignoreeof acted like it does in bash.
# interactivecomments doesn't seem to change.
# We could use MAIL_WARNING as a way to generate an interrupt.
setopt						\
    noclobber					\
    ignoreeof					\
    interactivecomments				\
    mailwarning					\
    normstarsilent				\
    rmstarwait

# Jobcontrol
setopt						\
    monitor

# Prompting

# Scripts and Functions
setopt						\
    cbases					\
    cprecedences

# [other] Shell Emulation
setopt						\
    appendcreate
