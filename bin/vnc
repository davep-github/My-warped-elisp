#!/bin/sh
#
# Start up a vnc server using my preferred defaults.
# There are a number of vnc servers, and versions, out there and this
# provides some insulation from those differences.
# It also allows for node specific configuration. Shared home directories are
# not perfect for every need.
# NB: Crappy per-host code in git.
#

source script-x
progname=$(basename "$0")
source eexec
eexec_program=$(EExec_parse "$@")
for op in $eexec_program
do
   $op
   shift
done
unset eexec_program

case "${1-}" in
    -l|--l|-ls|--ls) shift; ls "$@" ~/.vnc/*.pid; exit 0;;
    *) ;;
esac

: ${VNC_GEOMETRY:=1920x1080}
EExec vncserver -geometry ${VNC_GEOMETRY} -depth 24 "$@"
