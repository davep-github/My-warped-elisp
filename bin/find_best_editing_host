#!/bin/sh
# source me.
find_best_editing_host()
{
    vsetp "${DP_GNU_EDITING_SERVER-}" && {
        echo "${DP_GNU_EDITING_SERVER}"
        return 0
    }
    [ -e "${DP_EDITING_SERVER_FILE}" ] && {
        set -- $(cat "${DP_EDITING_SERVER_FILE}")
        # $1 == server, $2 == pid, ... rest
        # If server is this host, verify the pid exists and is gnuserv.
        editing_host_msg="editing server info: $@"
        echo "${1}"
        return 0
    }
    return 1
}
